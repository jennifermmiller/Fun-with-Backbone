function addTodoItem(){var a=new ItemClass;""!==$(".js-item-input").val()&&(a.set("itemDescription",$(".js-item-input").val()),router.items.add(a),a.save(null,{success:function(){console.log("Sweet, Sweet success!")},error:function(a,b){console.log("Too bad! Looks like: "+b)}}),$(".item-input").val(""))}var ItemClass=Parse.Object.extend("ItemClass",{defaults:{itemDescription:"Why have a todo item with nothing on it? You sill goose!",complete:!1},toggleComplete:function(){this.set("complete",!this.get("complete")),this.save(null,{success:function(){console.log("Complete status has been updated!")}})}}),ItemsCollection=Parse.Collection.extend({model:ItemClass}),Router=Backbone.Router.extend({routes:{"":"index","complete-items":"completeItems","active-items":"activeItems"},initialize:function(){this.items=new ItemsCollection,this.items.on("add",function(a){new ListView({model:a})})},index:function(){$(".list-items").empty(),new MainView,this.items.fetch({success:function(a){a.each(function(a){new ListView({model:a})})}})},completeItems:function(){$(".list-items").empty();var a=new Parse.Query(ItemClass);a.equalTo("complete",!0),a.find({success:function(a){_.each(a,function(a){new ListView({model:a})})}})},activeItems:function(){$(".list-items").empty();var a=new Parse.Query(ItemClass);a.equalTo("complete",!1),a.find({success:function(a){_.each(a,function(a){new ListView({model:a})})}})}}),MainView=Backbone.View.extend({className:"add-item",template:_.template($("#start-list-template").text()),events:{"click .js-add-btn":"addTodoItem"},initialize:function(){$(".jubotron").html(this.el),this.$el.html(this.template()),$(".js-add-btn").click(function(){addTodoItem(),$("js-item-input").empty()}),$(".js-item-input").on("keypress",function(a){""!==$(".js-item-input").val()&&13===a.which&&(addTodoItem(),$("js-item-input").val(""))})},clearComplete:function(){console.log("what")}});$(".clear-complete-items").click(function(){var a=_.where(router.items.model,{complete:!0});console.log(a),_.each(a,function(a){a.destroy()})});var ListView=Backbone.View.extend({tagName:"li",createTemplate:_.template($("#list-template").text()),events:{"click .complete-item":"done","dblclick .item-description":"edit","keypress .edit-item":"saveEdit","click .delete-item":"destroy","click .js-focus":"getFocus",hover:"showDelete"},initialize:function(){$(".list-items").append(this.el),this.render(),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove)},render:function(){this.$el.html(this.createTemplate(this.model.attributes)),this.model.get("complete")===!0?this.$el.addClass("completed"):this.$el.removeClass("completed")},done:function(){this.model.toggleComplete()},edit:function(){var a=_.template($("#edit-template").text());this.$el.html(a(this.model.attributes)),this.$el.find(".edit-item").focus()},saveEdit:function(a){if(13===a.which){var b=this.$el.find(".edit-item").val();this.model.save({itemDescription:b})}},destroy:function(){this.model.destroy()},showDelete:function(){$(".delete-item").show()}}),FocusView=Backbone.View.extend({className:"focus-view",createTemplate:_.template($("#focus-view-template").text()),initialize:function(){$(".jumbotron").empty(),$(".js-list-stream").html(this.el),this.render()},render:function(){this.$el.html(this.createTemplate(this.model))}});console.log("Time to make a sweet todo list!"),$(document).ready(function(){Parse.initialize("Q2dpmPjadkOev3PbLmYPU9HnH0poaMBP2lY2DwNj","oS1PQTCi1wT19J6hMYv0OtkK5m1vxjpYPzYouJ1Z"),window.router=new Router,Backbone.history.start()});